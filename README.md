# 3_task: Лемматизированный инвертированный индекс и булев поиск

## Что реализовано

1. Построение инвертированного индекса по **леммам** (`lemma -> список doc_id`).
2. Булев поиск по индексу с операторами:
   - `AND`
   - `OR`
   - `NOT`
   - скобки `( )`
3. Ввод запроса строкой (`--query` или интерактивный ввод).
4. Лемматизация термов в запросе (например, `цезарь` и `цезаря` приводятся к одной лемме).

## Входные данные

По умолчанию документы читаются из:
`../2_task/crawl_output/pages`

## Запуск

Из директории `3_task`:

```bash
python3 boolean_search.py
```

Пример сложного запроса:

```bash
python3 boolean_search.py \
  --pages-dir ../2_task/crawl_output/pages \
  --index-output inverted_index.txt \
  --query "(Клеопатра AND Цезарь) OR (Антоний AND Цицерон) OR Помпей"
```

## Формат инвертированного индекса

Файл `inverted_index.txt`:

```text
<lemma> <doc_id1> <doc_id2> ... <doc_idN>
```

Каждая строка: одна лемма и отсортированный список документов, где встречается любая её словоформа.

## Зависимости

Для лемматизации желательно наличие `pymorphy3` или `pymorphy2`.

Если `pymorphy` недоступен, скрипт продолжает работать в упрощённом режиме (без морфоанализа).
